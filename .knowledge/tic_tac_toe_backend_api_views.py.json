{"is_source_file": true, "format": "Python", "description": "This file defines REST API views for a Tic Tac Toe game platform, including user registration, login, profile retrieval, game management, making moves, and viewing game history. It integrates Django REST Framework and channels for real-time updates.", "external_files": [".models", ".serializers", "rest_framework.decorators", "rest_framework.permissions", "rest_framework", "rest_framework.response", "rest_framework.views", "rest_framework_simplejwt.tokens", "django.contrib.auth", "django.db", "django.shortcuts", "django.utils", "django.conf", "asgiref.sync", "channels.layers"], "external_methods": ["RefreshToken.for_user", "authenticate", "get_object_or_404", "timezone.now", "get_channel_layer", "async_to_sync"], "published": ["health", "register", "login", "ProfileView", "GameViewSet", "MoveView", "GameHistoryView"], "classes": [{"name": "ProfileView", "description": "API view for retrieving the authenticated user's profile and game stats."}, {"name": "GameViewSet", "description": "A viewset managing game creation, retrieval, and listing functionalities."}, {"name": "MoveView", "description": "API view for making moves in a specific game, including move validation, game state updates, and real-time notifications."}, {"name": "GameHistoryView", "description": "API view for retrieving the list of games the user participated in."}], "methods": [{"name": "health(request)", "description": "Health check endpoint for server status.", "scope": "", "scopeKind": ""}, {"name": "register(request)", "description": "Endpoint for user registration, issuing JWT tokens upon success.", "scope": "", "scopeKind": ""}, {"name": "login(request)", "description": "Endpoint for user login, returning JWT tokens and profile data.", "scope": "", "scopeKind": ""}, {"name": "ProfileView.get", "description": "Handles GET requests to retrieve the user's profile and game statistics."}, {"name": "GameViewSet.get_serializer_class", "description": "Returns appropriate serializer based on action."}, {"name": "GameViewSet.list", "description": "Lists all games the user is involved in or can join."}, {"name": "GameViewSet.create", "description": "Starts a new game or joins an existing waiting game."}, {"name": "GameViewSet.retrieve", "description": "Retrieves details of a specific game by ID."}, {"name": "MoveView.post", "description": "Handles making a move in a game, updating game state, checking for win/draw, and notifying clients via WebSocket."}, {"name": "MoveView.check_winner", "description": "Checks the current board for a winning condition or draw."}, {"name": "GameHistoryView.get_queryset", "description": "Returns the list of games involving the current user."}, {"name": "check_winner(self, board)", "scope": "MoveView", "scopeKind": "class", "description": "unavailable"}, {"name": "create(self, request)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "get(self, request)", "scope": "ProfileView", "scopeKind": "class", "description": "unavailable"}, {"name": "get_queryset(self)", "scope": "GameHistoryView", "scopeKind": "class", "description": "unavailable"}, {"name": "get_serializer_class(self)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "list(self, request)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, request, pk)", "scope": "MoveView", "scopeKind": "class", "description": "unavailable"}, {"name": "retrieve(self, request, pk=None)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}], "calls": ["RefreshToken.for_user", "authenticate", "get_object_or_404", "timezone.now", "get_channel_layer", "async_to_sync", "channel_layer.group_send"], "search-terms": ["tic-tac-toe", "API views", "game management", "JWT authentication", "real-time updates", "Django REST Framework", "channels", "Move handling", "game state", "user profile"], "state": 2, "file_id": 8, "knowledge_revision": 42, "git_revision": "1b5e35859eeff1c668adb86303bc305651ca4ebd", "revision_history": [{"27": "1b5e35859eeff1c668adb86303bc305651ca4ebd"}, {"42": "1b5e35859eeff1c668adb86303bc305651ca4ebd"}], "ctags": [{"_type": "tag", "name": "GameHistoryView", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class GameHistoryView(generics.ListAPIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GameViewSet", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class GameViewSet(viewsets.GenericViewSet,$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MoveView", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class MoveView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProfileView", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class ProfileView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^User = get_user_model()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "check_winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def check_winner(self, board):$/", "language": "Python", "kind": "member", "signature": "(self, board)", "scope": "MoveView", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def create(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def get(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "ProfileView", "scopeKind": "class"}, {"_type": "tag", "name": "get_queryset", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def get_queryset(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "GameHistoryView", "scopeKind": "class"}, {"_type": "tag", "name": "get_serializer_class", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def get_serializer_class(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def list(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^def login(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "GameHistoryView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "MoveView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "ProfileView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def post(self, request, pk):$/", "language": "Python", "kind": "member", "signature": "(self, request, pk)", "scope": "MoveView", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    queryset = Game.objects.all()$/", "language": "Python", "kind": "variable", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^def register(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "retrieve", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def retrieve(self, request, pk=None):$/", "language": "Python", "kind": "member", "signature": "(self, request, pk=None)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    serializer_class = GameSerializer$/", "language": "Python", "kind": "variable", "scope": "GameHistoryView", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    serializer_class = GameSerializer$/", "language": "Python", "kind": "variable", "scope": "GameViewSet", "scopeKind": "class"}], "hash": "771d2b6010a765f7ba5f626d29d84671", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/api/views.py", "fields": [{"name": "User = get_user_model()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "permission_classes = [IsAuthenticated]", "scope": "GameHistoryView", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = Game.objects.all()", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = GameSerializer", "scope": "GameHistoryView", "scopeKind": "class", "description": "unavailable"}]}