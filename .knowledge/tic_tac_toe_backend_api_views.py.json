{"is_source_file": true, "format": "Python", "description": "This file implements REST API views for a Tic Tac Toe game platform using Django REST Framework. It provides endpoints for server health check, user registration, login, user profile retrieval, game management (creation, listing, retrieval), move making with game logic (including win/draw detection), and game history. It also includes WebSocket notifications for real-time game updates.", "external_files": ["rest_framework.decorators", "rest_framework.permissions", "rest_framework", "rest_framework.response", "rest_framework.views", "rest_framework_simplejwt.tokens", "django.contrib.auth", "django.db", "django.shortcuts", "django.utils", "django.db.models", ".models", ".serializers", "asgiref.sync", "channels.layers"], "external_methods": ["RefreshToken.for_user", "authenticate", "get_object_or_404", "timezone.now", "Q"], "published": ["health", "register", "login", "ProfileView", "GameViewSet", "MoveView", "GameHistoryView"], "classes": [{"name": "ProfileView", "description": "API view to retrieve the authenticated user's profile along with total games played and wins."}, {"name": "GameViewSet", "description": "ViewSet handling game creation, listing, and retrieval for authenticated users."}, {"name": "MoveView", "description": "API view to handle making a move in an ongoing game, including game state updates and win/draw detection."}, {"name": "GameHistoryView", "description": "ListAPIView to retrieve the game history for the current user."}], "methods": [{"name": "health(request)", "description": "Health check endpoint returning server status.", "scope": "", "scopeKind": ""}, {"name": "register(request)", "description": "Endpoint to register a new user, returning JWT tokens upon success.", "scope": "", "scopeKind": ""}, {"name": "login(request)", "description": "Endpoint to authenticate a user and issue JWT tokens.", "scope": "", "scopeKind": ""}, {"name": "ProfileView.get", "description": "Retrieve user profile data along with game stats."}, {"name": "GameViewSet.list", "description": "List all games the user is involved in or can join."}, {"name": "GameViewSet.create", "description": "Create a new game or join a waiting game."}, {"name": "GameViewSet.retrieve", "description": "Get the details of a specific game."}, {"name": "MoveView.post", "description": "Make a move in the specified game, update game state, check for win/draw, and notify via WebSocket."}, {"name": "MoveView.check_winner", "description": "Determine if the current board has a winner or a draw."}, {"name": "GameHistoryView.get_queryset", "description": "Retrieve all games involving the current user, ordered by start time."}, {"name": "check_winner(self, board)", "scope": "MoveView", "scopeKind": "class", "description": "unavailable"}, {"name": "create(self, request)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "get(self, request)", "scope": "ProfileView", "scopeKind": "class", "description": "unavailable"}, {"name": "get_queryset(self)", "scope": "GameHistoryView", "scopeKind": "class", "description": "unavailable"}, {"name": "get_serializer_class(self)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "list(self, request)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, request, pk)", "scope": "MoveView", "scopeKind": "class", "description": "unavailable"}, {"name": "retrieve(self, request, pk=None)", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}], "calls": ["RefreshToken.for_user(user)", "authenticate(username, password)", "get_object_or_404(Game, pk=pk)", "timezone.now()", "Q", "async_to_sync(channel_layer.group_send)"], "search-terms": ["REST API", "Django REST Framework", "WebSocket", "game creation", "move making", "game state", "authentication", "JWT", "Tic Tac Toe", "game history"], "state": 2, "file_id": 8, "knowledge_revision": 49, "git_revision": "694d9c1d0e65a8dd93776f1f8874747fd1e67527", "revision_history": [{"27": "1b5e35859eeff1c668adb86303bc305651ca4ebd"}, {"42": "1b5e35859eeff1c668adb86303bc305651ca4ebd"}, {"49": "694d9c1d0e65a8dd93776f1f8874747fd1e67527"}], "ctags": [{"_type": "tag", "name": "GameHistoryView", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class GameHistoryView(generics.ListAPIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GameViewSet", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class GameViewSet(viewsets.GenericViewSet,$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MoveView", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class MoveView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProfileView", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^class ProfileView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^User = get_user_model()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "check_winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def check_winner(self, board):$/", "language": "Python", "kind": "member", "signature": "(self, board)", "scope": "MoveView", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def create(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def get(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "ProfileView", "scopeKind": "class"}, {"_type": "tag", "name": "get_queryset", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def get_queryset(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "GameHistoryView", "scopeKind": "class"}, {"_type": "tag", "name": "get_serializer_class", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def get_serializer_class(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def list(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^def login(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "GameHistoryView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "MoveView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    permission_classes = [IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "ProfileView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def post(self, request, pk):$/", "language": "Python", "kind": "member", "signature": "(self, request, pk)", "scope": "MoveView", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    queryset = Game.objects.all()$/", "language": "Python", "kind": "variable", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^def register(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "retrieve", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    def retrieve(self, request, pk=None):$/", "language": "Python", "kind": "member", "signature": "(self, request, pk=None)", "scope": "GameViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    serializer_class = GameSerializer$/", "language": "Python", "kind": "variable", "scope": "GameHistoryView", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-142434-142443/tic_tac_toe_backend/api/views.py", "pattern": "/^    serializer_class = GameSerializer$/", "language": "Python", "kind": "variable", "scope": "GameViewSet", "scopeKind": "class"}], "hash": "f4c81b57773bb2cacd0ad71035ae94f3", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/api/views.py", "fields": [{"name": "User = get_user_model()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "permission_classes = [IsAuthenticated]", "scope": "GameHistoryView", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = Game.objects.all()", "scope": "GameViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = GameSerializer", "scope": "GameHistoryView", "scopeKind": "class", "description": "unavailable"}]}